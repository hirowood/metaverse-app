#1 [internal] load local bake definitions
#1 reading from stdin 1.14kB 0.0s done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 30B
#2 transferring dockerfile: 1.85kB 0.0s done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:20-alpine
#3 DONE 2.6s

#4 [internal] load .dockerignore
#4 transferring context: 339B done
#4 DONE 0.0s

#5 [builder  1/14] FROM docker.io/library/node:20-alpine@sha256:1ab6fc5a31d515dc7b6b25f6acfda2001821f2c2400252b6cb61044bd9f9ad48
#5 resolve docker.io/library/node:20-alpine@sha256:1ab6fc5a31d515dc7b6b25f6acfda2001821f2c2400252b6cb61044bd9f9ad48 0.0s done
#5 ...

#6 [internal] load build context
#6 transferring context: 330.79kB 0.0s done
#6 DONE 0.1s

#5 [builder  1/14] FROM docker.io/library/node:20-alpine@sha256:1ab6fc5a31d515dc7b6b25f6acfda2001821f2c2400252b6cb61044bd9f9ad48
#5 sha256:c74c90aa7c8726728fa9d2e330254ef29381efbd566aaee9933c3113c26f20ce 0B / 445B 0.2s
#5 sha256:f2fbe8556258562779088bb23277d1d0b7e43fc6ddd52623166a2ac6d92bc73a 0B / 1.26MB 0.2s
#5 sha256:c087321cece4f408fdac87711c4c5c51945101848dffd8848840912c1fceb02c 0B / 42.75MB 0.2s
#5 sha256:2d35ebdb57d9971fea0cac1582aa78935adf8058b2cc32db163c98822e5dfa1b 0B / 3.80MB 0.2s
#5 sha256:f2fbe8556258562779088bb23277d1d0b7e43fc6ddd52623166a2ac6d92bc73a 1.26MB / 1.26MB 1.1s done
#5 sha256:2d35ebdb57d9971fea0cac1582aa78935adf8058b2cc32db163c98822e5dfa1b 1.05MB / 3.80MB 1.5s
#5 sha256:2d35ebdb57d9971fea0cac1582aa78935adf8058b2cc32db163c98822e5dfa1b 2.10MB / 3.80MB 2.3s
#5 sha256:2d35ebdb57d9971fea0cac1582aa78935adf8058b2cc32db163c98822e5dfa1b 3.15MB / 3.80MB 2.9s
#5 sha256:2d35ebdb57d9971fea0cac1582aa78935adf8058b2cc32db163c98822e5dfa1b 3.80MB / 3.80MB 3.1s done
#5 sha256:c087321cece4f408fdac87711c4c5c51945101848dffd8848840912c1fceb02c 3.15MB / 42.75MB 3.2s
#5 extracting sha256:2d35ebdb57d9971fea0cac1582aa78935adf8058b2cc32db163c98822e5dfa1b 0.1s done
#5 sha256:c087321cece4f408fdac87711c4c5c51945101848dffd8848840912c1fceb02c 6.29MB / 42.75MB 4.2s
#5 sha256:c087321cece4f408fdac87711c4c5c51945101848dffd8848840912c1fceb02c 9.44MB / 42.75MB 5.4s
#5 sha256:c087321cece4f408fdac87711c4c5c51945101848dffd8848840912c1fceb02c 12.58MB / 42.75MB 6.2s
#5 sha256:c087321cece4f408fdac87711c4c5c51945101848dffd8848840912c1fceb02c 15.73MB / 42.75MB 6.9s
#5 sha256:c087321cece4f408fdac87711c4c5c51945101848dffd8848840912c1fceb02c 18.87MB / 42.75MB 7.8s
#5 sha256:c087321cece4f408fdac87711c4c5c51945101848dffd8848840912c1fceb02c 22.02MB / 42.75MB 8.7s
#5 sha256:c087321cece4f408fdac87711c4c5c51945101848dffd8848840912c1fceb02c 25.17MB / 42.75MB 9.9s
#5 sha256:c087321cece4f408fdac87711c4c5c51945101848dffd8848840912c1fceb02c 28.31MB / 42.75MB 10.8s
#5 sha256:c087321cece4f408fdac87711c4c5c51945101848dffd8848840912c1fceb02c 31.46MB / 42.75MB 12.0s
#5 sha256:c087321cece4f408fdac87711c4c5c51945101848dffd8848840912c1fceb02c 34.60MB / 42.75MB 12.9s
#5 sha256:c087321cece4f408fdac87711c4c5c51945101848dffd8848840912c1fceb02c 37.75MB / 42.75MB 13.7s
#5 sha256:c087321cece4f408fdac87711c4c5c51945101848dffd8848840912c1fceb02c 40.89MB / 42.75MB 14.4s
#5 sha256:c087321cece4f408fdac87711c4c5c51945101848dffd8848840912c1fceb02c 42.75MB / 42.75MB 15.0s done
#5 extracting sha256:c087321cece4f408fdac87711c4c5c51945101848dffd8848840912c1fceb02c
#5 extracting sha256:c087321cece4f408fdac87711c4c5c51945101848dffd8848840912c1fceb02c 1.0s done
#5 extracting sha256:f2fbe8556258562779088bb23277d1d0b7e43fc6ddd52623166a2ac6d92bc73a
#5 extracting sha256:f2fbe8556258562779088bb23277d1d0b7e43fc6ddd52623166a2ac6d92bc73a 0.0s done
#5 extracting sha256:c74c90aa7c8726728fa9d2e330254ef29381efbd566aaee9933c3113c26f20ce 0.0s done
#5 DONE 16.2s

#7 [builder  2/14] WORKDIR /app
#7 DONE 0.1s

#8 [builder  3/14] COPY package.json package-lock.json* ./
#8 DONE 0.1s

#9 [builder  4/14] RUN if [ -f package-lock.json ]; then npm ci --prefer-offline --no-audit; else npm install; fi
#9 ...

#10 [stage-1  3/10] RUN apk add --no-cache dumb-init
#10 0.236 fetch https://dl-cdn.alpinelinux.org/alpine/v3.22/main/x86_64/APKINDEX.tar.gz
#10 1.025 fetch https://dl-cdn.alpinelinux.org/alpine/v3.22/community/x86_64/APKINDEX.tar.gz
#10 2.005 (1/1) Installing dumb-init (1.2.5-r3)
#10 2.077 Executing busybox-1.37.0-r19.trigger
#10 2.082 OK: 10 MiB in 19 packages
#10 DONE 2.2s

#11 [stage-1  4/10] COPY package.json package-lock.json* ./
#11 DONE 0.0s

#12 [stage-1  5/10] RUN if [ -f package-lock.json ]; then npm ci --prefer-offline --no-audit; else npm install; fi
#12 4.113 npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
#12 ...

#9 [builder  4/14] RUN if [ -f package-lock.json ]; then npm ci --prefer-offline --no-audit; else npm install; fi
#9 3.680 npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
#9 6.599 npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
#9 6.864 npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
#9 9.609 npm warn deprecated eslint@8.57.1: This version is no longer supported. Please see https://eslint.org/version-support for other options.
#9 ...

#12 [stage-1  5/10] RUN if [ -f package-lock.json ]; then npm ci --prefer-offline --no-audit; else npm install; fi
#12 8.779 npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
#12 9.123 npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
#12 12.57 npm warn deprecated eslint@8.57.1: This version is no longer supported. Please see https://eslint.org/version-support for other options.
#12 16.93 npm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
#12 17.31 npm warn deprecated @humanwhocodes/config-array@0.13.0: Use @eslint/config-array instead
#12 ...

#9 [builder  4/14] RUN if [ -f package-lock.json ]; then npm ci --prefer-offline --no-audit; else npm install; fi
#9 15.22 npm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
#9 15.96 npm warn deprecated @humanwhocodes/config-array@0.13.0: Use @eslint/config-array instead
#9 89.74 
#9 89.74 added 420 packages in 1m
#9 89.74 
#9 89.74 158 packages are looking for funding
#9 89.74   run `npm fund` for details
#9 89.74 npm notice
#9 89.74 npm notice New major version of npm available! 10.8.2 -> 11.6.2
#9 89.74 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2
#9 89.74 npm notice To update run: npm install -g npm@11.6.2
#9 89.74 npm notice
#9 DONE 89.8s

#13 [builder  5/14] COPY src ./src
#13 DONE 0.2s

#12 [stage-1  5/10] RUN if [ -f package-lock.json ]; then npm ci --prefer-offline --no-audit; else npm install; fi
#12 ...

#14 [builder  6/14] COPY public ./public
#14 DONE 0.0s

#15 [builder  7/14] COPY next.config.js ./
#15 DONE 0.0s

#16 [builder  8/14] COPY tsconfig.json ./
#16 DONE 0.0s

#17 [builder  9/14] COPY tsconfig.node.json ./
#17 DONE 0.0s

#18 [builder 10/14] COPY postcss.config.js ./
#18 DONE 0.0s

#19 [builder 11/14] COPY tailwind.config.js ./
#19 DONE 0.0s

#20 [builder 12/14] RUN rm -f postcss.config.cjs
#20 DONE 0.2s

#12 [stage-1  5/10] RUN if [ -f package-lock.json ]; then npm ci --prefer-offline --no-audit; else npm install; fi
#12 ...

#21 [builder 13/14] RUN npm list tailwindcss postcss autoprefixer || echo "Warning: Some packages may be missing"
#21 1.159 metaverse-frontend@1.0.0 /app
#21 1.159 +-- autoprefixer@10.4.21
#21 1.159 | `-- postcss@8.5.6 deduped
#21 1.159 +-- next@15.5.5
#21 1.159 | `-- postcss@8.4.31
#21 1.159 +-- postcss@8.5.6
#21 1.159 `-- tailwindcss@3.4.18
#21 1.159   +-- postcss-import@15.1.0
#21 1.159   | `-- postcss@8.5.6 deduped
#21 1.159   +-- postcss-js@4.1.0
#21 1.159   | `-- postcss@8.5.6 deduped
#21 1.159   +-- postcss-load-config@6.0.1
#21 1.159   | `-- postcss@8.5.6 deduped
#21 1.159   +-- postcss-nested@6.2.0
#21 1.159   | `-- postcss@8.5.6 deduped
#21 1.159   `-- postcss@8.5.6 deduped
#21 1.159 
#21 DONE 1.2s

#22 [builder 14/14] RUN npm run build
#22 0.429 
#22 0.429 > metaverse-frontend@1.0.0 build
#22 0.429 > next build
#22 0.429 
#22 1.052 Attention: Next.js now collects completely anonymous telemetry regarding usage.
#22 1.053 This information is used to shape Next.js' roadmap and prioritize features.
#22 1.053 You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
#22 1.053 https://nextjs.org/telemetry
#22 1.053 
#22 1.157    ▲ Next.js 15.5.5
#22 1.157 
#22 1.254    Creating an optimized production build ...
#22 10.52 <w> [webpack.cache.PackFileCacheStrategy] Skipped not serializable cache item 'Compilation/modules|/app/node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[14].oneOf[10].use[2]!/app/node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[14].oneOf[10].use[3]!/app/src/styles/globals.css': No serializer registered for PostCSSSyntaxError
#22 10.52 <w> while serializing webpack/lib/cache/PackFileCacheStrategy.PackContentItems -> webpack/lib/NormalModule -> webpack/lib/ModuleBuildError -> PostCSSSyntaxError
#22 10.52 <w> [webpack.cache.PackFileCacheStrategy] Skipped not serializable cache item 'Compilation/modules|/app/node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[14].oneOf[10].use[2]!/app/node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[14].oneOf[10].use[3]!/app/src/styles/components.css': No serializer registered for PostCSSSyntaxError
#22 10.52 <w> while serializing webpack/lib/cache/PackFileCacheStrategy.PackContentItems -> webpack/lib/NormalModule -> webpack/lib/ModuleBuildError -> PostCSSSyntaxError
#22 10.69 Failed to compile.
#22 10.69 
#22 10.69 ./src/styles/components.css:7:1
#22 10.69 Syntax error: /app/src/styles/components.css The `` class does not exist. If `` is a custom class, make sure it is defined within a `@layer` directive.
#22 10.69 
#22 10.69   5 |  */
#22 10.69   6 | 
#22 10.69 > 7 | @tailwind components;
#22 10.69     | ^
#22 10.69   8 | 
#22 10.69   9 | /* ==================== ボタンバリエーション ====================*/
#22 10.69 
#22 10.69 ./src/styles/globals.css:8:1
#22 10.69 Syntax error: /app/src/styles/globals.css The `` class does not exist. If `` is a custom class, make sure it is defined within a `@layer` directive.
#22 10.69 
#22 10.69    6 | 
#22 10.69    7 | @tailwind base;
#22 10.69 >  8 | @tailwind components;
#22 10.69      | ^
#22 10.69    9 | @tailwind utilities;
#22 10.69   10 |
#22 10.69 
#22 10.69 ./src/styles/components.css
#22 10.69 Syntax error: /app/src/styles/components.css The `` class does not exist. If `` is a custom class, make sure it is defined within a `@layer` directive. (7:1)
#22 10.69 
#22 10.69   5 |  */
#22 10.69   6 | 
#22 10.69 > 7 | @tailwind components;
#22 10.69     | ^
#22 10.69   8 | 
#22 10.69   9 | /* ==================== ボタンバリエーション ====================*/
#22 10.69 
#22 10.69     at tryRunOrWebpackError (/app/node_modules/next/dist/compiled/webpack/bundle5.js:29:316119)
#22 10.69     at __webpack_require_module__ (/app/node_modules/next/dist/compiled/webpack/bundle5.js:29:131532)
#22 10.69     at __nested_webpack_require_161494__ (/app/node_modules/next/dist/compiled/webpack/bundle5.js:29:130967)
#22 10.69     at /app/node_modules/next/dist/compiled/webpack/bundle5.js:29:131824
#22 10.69     at symbolIterator (/app/node_modules/next/dist/compiled/neo-async/async.js:1:14444)
#22 10.69     at done (/app/node_modules/next/dist/compiled/neo-async/async.js:1:14824)
#22 10.69     at Hook.eval [as callAsync] (eval at create (/app/node_modules/next/dist/compiled/webpack/bundle5.js:14:9224), <anonymous>:15:1)
#22 10.69     at /app/node_modules/next/dist/compiled/webpack/bundle5.js:29:130687
#22 10.69     at symbolIterator (/app/node_modules/next/dist/compiled/neo-async/async.js:1:14402)
#22 10.69     at timesSync (/app/node_modules/next/dist/compiled/neo-async/async.js:1:5027)
#22 10.69 -- inner error --
#22 10.69 Syntax error: /app/src/styles/components.css The `` class does not exist. If `` is a custom class, make sure it is defined within a `@layer` directive. (7:1)
#22 10.69 
#22 10.69   5 |  */
#22 10.69   6 | 
#22 10.69 > 7 | @tailwind components;
#22 10.69     | ^
#22 10.69   8 | 
#22 10.69   9 | /* ==================== ボタンバリエーション ====================*/
#22 10.69 
#22 10.69     at Object.<anonymous> (/app/node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[14].oneOf[10].use[2]!/app/node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[14].oneOf[10].use[3]!/app/src/styles/components.css:1:7)
#22 10.69     at /app/node_modules/next/dist/compiled/webpack/bundle5.js:29:962717
#22 10.69     at Hook.eval [as call] (eval at create (/app/node_modules/next/dist/compiled/webpack/bundle5.js:14:9002), <anonymous>:7:1)
#22 10.69     at /app/node_modules/next/dist/compiled/webpack/bundle5.js:29:131565
#22 10.69     at tryRunOrWebpackError (/app/node_modules/next/dist/compiled/webpack/bundle5.js:29:316073)
#22 10.69     at __webpack_require_module__ (/app/node_modules/next/dist/compiled/webpack/bundle5.js:29:131532)
#22 10.69     at __nested_webpack_require_161494__ (/app/node_modules/next/dist/compiled/webpack/bundle5.js:29:130967)
#22 10.69     at /app/node_modules/next/dist/compiled/webpack/bundle5.js:29:131824
#22 10.69     at symbolIterator (/app/node_modules/next/dist/compiled/neo-async/async.js:1:14444)
#22 10.69     at done (/app/node_modules/next/dist/compiled/neo-async/async.js:1:14824)
#22 10.69 
#22 10.69 Generated code for /app/node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[14].oneOf[10].use[2]!/app/node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[14].oneOf[10].use[3]!/app/src/styles/components.css
#22 10.69 
#22 10.69 Import trace for requested module:
#22 10.69 ./src/styles/components.css
#22 10.69 
#22 10.69 ./src/styles/globals.css
#22 10.69 Syntax error: /app/src/styles/globals.css The `` class does not exist. If `` is a custom class, make sure it is defined within a `@layer` directive. (8:1)
#22 10.69 
#22 10.69    6 | 
#22 10.69    7 | @tailwind base;
#22 10.69 >  8 | @tailwind components;
#22 10.69      | ^
#22 10.69    9 | @tailwind utilities;
#22 10.69   10 | 
#22 10.69 
#22 10.69     at tryRunOrWebpackError (/app/node_modules/next/dist/compiled/webpack/bundle5.js:29:316119)
#22 10.69     at __webpack_require_module__ (/app/node_modules/next/dist/compiled/webpack/bundle5.js:29:131532)
#22 10.69     at __nested_webpack_require_161494__ (/app/node_modules/next/dist/compiled/webpack/bundle5.js:29:130967)
#22 10.69     at /app/node_modules/next/dist/compiled/webpack/bundle5.js:29:131824
#22 10.69     at symbolIterator (/app/node_modules/next/dist/compiled/neo-async/async.js:1:14444)
#22 10.69     at done (/app/node_modules/next/dist/compiled/neo-async/async.js:1:14824)
#22 10.69     at Hook.eval [as callAsync] (eval at create (/app/node_modules/next/dist/compiled/webpack/bundle5.js:14:9224), <anonymous>:15:1)
#22 10.69     at Hook.CALL_ASYNC_DELEGATE [as _callAsync] (/app/node_modules/next/dist/compiled/webpack/bundle5.js:14:6378)
#22 10.69     at /app/node_modules/next/dist/compiled/webpack/bundle5.js:29:130687
#22 10.69     at symbolIterator (/app/node_modules/next/dist/compiled/neo-async/async.js:1:14402)
#22 10.69 -- inner error --
#22 10.69 Syntax error: /app/src/styles/globals.css The `` class does not exist. If `` is a custom class, make sure it is defined within a `@layer` directive. (8:1)
#22 10.69 
#22 10.69    6 | 
#22 10.69    7 | @tailwind base;
#22 10.69 >  8 | @tailwind components;
#22 10.69      | ^
#22 10.69    9 | @tailwind utilities;
#22 10.69   10 | 
#22 10.69 
#22 10.69     at Object.<anonymous> (/app/node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[14].oneOf[10].use[2]!/app/node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[14].oneOf[10].use[3]!/app/src/styles/globals.css:1:7)
#22 10.69     at /app/node_modules/next/dist/compiled/webpack/bundle5.js:29:962717
#22 10.69     at Hook.eval [as call] (eval at create (/app/node_modules/next/dist/compiled/webpack/bundle5.js:14:9002), <anonymous>:7:1)
#22 10.69     at Hook.CALL_DELEGATE [as _call] (/app/node_modules/next/dist/compiled/webpack/bundle5.js:14:6272)
#22 10.69     at /app/node_modules/next/dist/compiled/webpack/bundle5.js:29:131565
#22 10.69     at tryRunOrWebpackError (/app/node_modules/next/dist/compiled/webpack/bundle5.js:29:316073)
#22 10.69     at __webpack_require_module__ (/app/node_modules/next/dist/compiled/webpack/bundle5.js:29:131532)
#22 10.69     at __nested_webpack_require_161494__ (/app/node_modules/next/dist/compiled/webpack/bundle5.js:29:130967)
#22 10.69     at /app/node_modules/next/dist/compiled/webpack/bundle5.js:29:131824
#22 10.69     at symbolIterator (/app/node_modules/next/dist/compiled/neo-async/async.js:1:14444)
#22 10.69 
#22 10.69 Generated code for /app/node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[14].oneOf[10].use[2]!/app/node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[14].oneOf[10].use[3]!/app/src/styles/globals.css
#22 10.69 
#22 10.69 Import trace for requested module:
#22 10.69 ./src/styles/globals.css
#22 10.69 
#22 10.71 
#22 10.71 > Build failed because of webpack errors
#22 ERROR: process "/bin/sh -c npm run build" did not complete successfully: exit code: 1

#12 [stage-1  5/10] RUN if [ -f package-lock.json ]; then npm ci --prefer-offline --no-audit; else npm install; fi
#12 CANCELED
------
 > [builder 14/14] RUN npm run build:
10.69     at /app/node_modules/next/dist/compiled/webpack/bundle5.js:29:131824
10.69     at symbolIterator (/app/node_modules/next/dist/compiled/neo-async/async.js:1:14444)
10.69 
10.69 Generated code for /app/node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[14].oneOf[10].use[2]!/app/node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[14].oneOf[10].use[3]!/app/src/styles/globals.css
10.69 
10.69 Import trace for requested module:
10.69 ./src/styles/globals.css
10.69 
10.71 
10.71 > Build failed because of webpack errors
------
Dockerfile:28

--------------------

  26 |     

  27 |     # Build application

  28 | >>> RUN npm run build

  29 |     

  30 |     # Runtime stage - Use pre-built .next from builder

--------------------

failed to solve: process "/bin/sh -c npm run build" did not complete successfully: exit code: 1



View build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/nl0h4bv4uj56d5stxtwxldowi

